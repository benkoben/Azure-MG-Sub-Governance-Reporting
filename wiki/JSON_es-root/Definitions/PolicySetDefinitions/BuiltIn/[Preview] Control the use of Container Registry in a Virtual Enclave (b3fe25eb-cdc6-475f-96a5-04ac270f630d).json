{
  "displayName": "[Preview]: Control the use of Container Registry in a Virtual Enclave",
  "policyType": "BuiltIn",
  "description": "This initiative deploys Azure policies for Container Registry ensuring boundary protection of this resource while it operates within the logically separated structure of Azure Virtual Enclaves. https://aka.ms/VirtualEnclaves",
  "metadata": {
    "version": "1.0.0-preview",
    "category": "VirtualEnclaves",
    "preview": true
  },
  "policyDefinitions": [
    {
      "policyDefinitionReferenceId": "ContainerRegistryDisablePublicNetworkAccess",
      "policyDefinitionId": "/providers/Microsoft.Authorization/policyDefinitions/a3701552-92ea-433e-9d17-33b7f1208fc9"
    },
    {
      "policyDefinitionReferenceId": "ContainerRegistryShouldNotAllowUnrestrictedNetworkAccess",
      "policyDefinitionId": "/providers/Microsoft.Authorization/policyDefinitions/d0793b48-0edc-4296-a390-4c75d1bdfd71"
    },
    {
      "policyDefinitionReferenceId": "ContainerRegistryAnonymousAuthenticationDisabled",
      "policyDefinitionId": "/providers/Microsoft.Authorization/policyDefinitions/9f2dea28-e834-476c-99c5-3507b4728395"
    },
    {
      "policyDefinitionReferenceId": "ContainerRegistryConfiguredAnonymousAuthenticationDisabled",
      "policyDefinitionId": "/providers/Microsoft.Authorization/policyDefinitions/cced2946-b08a-44fe-9fd9-e4ed8a779897"
    },
    {
      "policyDefinitionReferenceId": "ContainerRegistryShouldHaveSkuSupportForPrivateLinks",
      "policyDefinitionId": "/providers/Microsoft.Authorization/policyDefinitions/bd560fc0-3c69-498a-ae9f-aa8eb7de0e13"
    },
    {
      "policyDefinitionReferenceId": "ContainerRegistryShouldHavePrivateLink",
      "policyDefinitionId": "/providers/Microsoft.Authorization/policyDefinitions/e8eef0a8-67cf-4eb4-9386-14b0e78733d4"
    },
    {
      "policyDefinitionReferenceId": "ContainerRegistryShouldHavePublicNetworkAccessDisabled",
      "policyDefinitionId": "/providers/Microsoft.Authorization/policyDefinitions/0fdf0491-d080-4575-b627-ad0e843cba0f"
    },
    {
      "policyDefinitionReferenceId": "ContainerRegistryShouldUseCmkForEncryption",
      "policyDefinitionId": "/providers/Microsoft.Authorization/policyDefinitions/5b9159ae-1701-4a6f-9a7a-aa9c8ddd0580"
    }
  ]
}
